<section class="section">
  <h2 class="section-title">Risk Distribution</h2>
  
  <div class="charts-container">
    <div class="chart-box">
      <h3 class="chart-title">Security Warnings by Severity</h3>
      <canvas 
        id="risk-distribution-chart" 
        data-chart='<%= JSON.stringify({
          labels: ["Critical", "High", "Medium", "Low"],
          values: [
            data.summary.criticalWarnings,
            data.summary.highWarnings,
            data.summary.mediumWarnings,
            data.summary.lowWarnings
          ]
        }) %>'
        class="risk-distribution-chart"
      ></canvas>
    </div>
    
    <div class="chart-box">
      <h3 class="chart-title">Risk Level Breakdown</h3>
      <div class="risk-level-breakdown">
        <div class="risk-level-item">
          <div class="risk-badge risk-critical">Critical</div>
          <div class="risk-level-count"><%= data.summary.criticalWarnings %></div>
          <div class="risk-level-desc">Immediate attention required</div>
        </div>
        
        <div class="risk-level-item">
          <div class="risk-badge risk-high">High</div>
          <div class="risk-level-count"><%= data.summary.highWarnings %></div>
          <div class="risk-level-desc">Urgent response needed</div>
        </div>
        
        <div class="risk-level-item">
          <div class="risk-badge risk-medium">Medium</div>
          <div class="risk-level-count"><%= data.summary.mediumWarnings %></div>
          <div class="risk-level-desc">Review and address soon</div>
        </div>
        
        <div class="risk-level-item">
          <div class="risk-badge risk-low">Low</div>
          <div class="risk-level-count"><%= data.summary.lowWarnings %></div>
          <div class="risk-level-desc">Monitor as part of routine checks</div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="risk-distribution-details">
    <p>
      The risk distribution chart shows the breakdown of security warnings by severity level.
      <% if (data.summary.criticalWarnings > 0) { %>
        <strong>Critical warnings require immediate attention</strong> as they represent potential data exfiltration or account compromise scenarios.
      <% } %>
    </p>
    
    <p>
      <strong>Risk Assessment Methodology:</strong> DataDragon uses a sophisticated risk scoring system that evaluates user behavior, event patterns,
      and security anomalies across multiple dimensions including login patterns, data access, and API usage.
    </p>
  </div>
</section>

<style>
  .risk-level-breakdown {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 20px;
  }
  
  .risk-level-item {
    display: flex;
    align-items: center;
    padding: 10px;
    background-color: var(--background-light);
    border-radius: 4px;
  }
  
  .risk-level-count {
    font-size: 1.5rem;
    font-weight: bold;
    margin: 0 15px;
    min-width: 40px;
    text-align: center;
  }
  
  .risk-level-desc {
    font-size: 0.9rem;
    color: var(--text-medium);
  }
</style> 